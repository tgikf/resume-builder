{
  "version": 3,
  "names": [
    "React",
    "forwardRef",
    "props",
    "ref",
    "prefixCls",
    "_",
    "value",
    "padding",
    "minHeight",
    "placeholder",
    "language",
    "className",
    "style",
    "rehypePlugins",
    "onChange",
    "other",
    "useState",
    "setValue",
    "useEffect",
    "textRef",
    "useRef",
    "useImperativeHandle",
    "current",
    "contentStyle",
    "paddingTop",
    "paddingRight",
    "paddingBottom",
    "paddingLeft",
    "htmlStr",
    "useMemo",
    "processHtml",
    "htmlEncode",
    "String",
    "preView",
    "styles",
    "editor",
    "__html",
    "container",
    "evn",
    "onKeyDown",
    "shortcuts",
    "textarea",
    "WebkitTextFillColor",
    "target"
  ],
  "sources": [
    "../src/index.tsx"
  ],
  "sourcesContent": [
    "import React, { useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport { PluggableList } from 'unified';\nimport { processHtml, htmlEncode } from './utils';\nimport shortcuts from './shortcuts';\nimport * as styles from './styles';\nimport './style/index.less';\n\nexport * from './SelectionText';\n\nexport interface TextareaCodeEditorProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {\n  prefixCls?: string;\n  /**\n   * Set what programming language the code belongs to.\n   */\n  language?: string;\n  /**\n   * Optional padding for code. Default: `10`.\n   */\n  padding?: number;\n  /**\n   * rehypePlugins (Array.<Plugin>, default: `[[rehypePrism, { ignoreMissing: true }]]`)\n   * List of [rehype plugins](https://github.com/rehypejs/rehype/blob/main/doc/plugins.md#list-of-plugins) to use. See the next section for examples on how to pass options\n   */\n  rehypePlugins?: PluggableList;\n  /**\n   * The minimum height of the editor. Default: `16`.\n   */\n  minHeight?: number;\n  onKeyDown?: (event: React.KeyboardEvent<HTMLTextAreaElement>) => void | boolean;\n}\n\nexport default React.forwardRef<HTMLTextAreaElement, TextareaCodeEditorProps>((props, ref) => {\n  const {\n    prefixCls = 'w-tc-editor',\n    value: _,\n    padding = 10,\n    minHeight = 16,\n    placeholder,\n    language,\n    className,\n    style,\n    rehypePlugins,\n    onChange,\n    ...other\n  } = props;\n\n  const [value, setValue] = useState(props.value || '');\n  useEffect(\n    () => setValue(props.value || ''),\n    [props.value]\n  );\n  const textRef = useRef<HTMLTextAreaElement>(null);\n  useImperativeHandle<HTMLTextAreaElement, HTMLTextAreaElement>(ref, () => textRef.current!);\n\n  const contentStyle = {\n    paddingTop: padding,\n    paddingRight: padding,\n    paddingBottom: padding,\n    paddingLeft: padding,\n  };\n\n  const htmlStr = useMemo(\n    () =>\n      processHtml(\n        `<pre aria-hidden=true><code ${language && value ? `class=\"language-${language}\"` : ''} >${htmlEncode(\n          String(value || placeholder || ''),\n        )}</code><br /></pre>`,\n        rehypePlugins,\n      ),\n    [value, placeholder, language, rehypePlugins],\n  );\n  const preView = useMemo(\n    () => (\n      <div\n        style={{ ...styles.editor, ...contentStyle, minHeight }}\n        className={`${prefixCls}-preview ${language ? `language-${language}` : ''}`}\n        dangerouslySetInnerHTML={{\n          __html: htmlStr,\n        }}\n      />\n    ),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [prefixCls, language, htmlStr],\n  );\n\n  return (\n    <div style={{ ...styles.container, ...style }} className={`${prefixCls} ${className || ''}`}>\n      <textarea\n        autoComplete=\"off\"\n        autoCorrect=\"off\"\n        spellCheck=\"false\"\n        autoCapitalize=\"off\"\n        {...other}\n        placeholder={placeholder}\n        onKeyDown={(evn) => {\n          if (!other.onKeyDown || other.onKeyDown(evn) !== false) {\n            shortcuts(evn);\n          }\n        }}\n        style={{\n          ...styles.editor,\n          ...styles.textarea,\n          ...contentStyle,\n          minHeight,\n          ...(placeholder && !value ? { WebkitTextFillColor: 'inherit' } : {}),\n        }}\n        ref={textRef}\n        onChange={(evn) => {\n          setValue(evn.target.value);\n          onChange && onChange(evn);\n        }}\n        className={`${prefixCls}-text`}\n        value={value}\n      />\n      {preView}\n    </div>\n  );\n});\n"
  ],
  "mappings": "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"
}